# Go Skimmer

В этой статье, я хотел бы рассказать вам, как можно достаточно быстро и легко написать небольшое веб-приложение на языке Go, который, не смотря на юный возраст, успел завоевать расположение у многих разработчиков. Обычно, для подобных статей пишут искусственные приложения, вроде TODO листа. Мы же попробуем написать что-то полезное, что уже существует и используется.

Часто, при разработке сервисов, нужно понимать какие данные отправляются в другой сервис, а возможность перехватить траффик есть не всегда. И как раз для того, чтобы отлавливать подобные запросы, существует проект [requestb.in](http://requestb.in/), позволяющий собирать запросы по определённому урлу и отображать их в веб-интерфейсе. Написанием подобного же приложения мы и займёмся. Чтобы немного упростить себе задачу, возьмём за основу какой-нибудь фреймворк, например [Martini](http://martini.codegangsta.io/).

В конечном итоге, у нас должен будет получится вот такой вот сервис:

![Alt text](https://habrastorage.org/getpro/habr/post_images/a18/13a/db9/a1813adb9fcbbd5f30549ad4d0429b8f.png)

##Подготовка

Эта статья будет разделена на шаги, каждый из которых будет содержать код, хранящийся в отдельной ветке репозитория на GitHub. Вы всегда сможете запустить и посмотреть результаты, а так же поиграться с кодом.
Для запуска приложения нужно иметь на своей машине компилятор Go. Я исхожу из предположения, что он у вас уже есть и настроен так, как вам удобно. Если же нет, то узнать как это сделать вы можете [на странице проекта](http://golang.org/doc/install).
В качестве среды для разработки, вы можете использовать то, что вам удобнее, благо, плагины для Go есть почти под каждый редактор. Наиболее популярен [GoSublime](https://github.com/DisposaBoy/GoSublime). Но я бы посоветовал IntelijIdea + [go-lang-ide-plugin](http://plugins.jetbrains.com/plugin/5047), который последнее время очень активно развивается, например из последнего добавленного — дебаг приложения. 

Попробовать уже готовый сервис в работе можно по ссылке [skimmer.tulu.la](skimmer.tulu.la).

Для начала работы нужно склонировать репозиторий к себе на машину в какую-нибудь директорию, например так:
```bash
git clone https://github.com/m0sth8/skimmer ./skimmer
```
Вы можете добавить проект в своё рабочее окружение (подробнее об этом можно прочитать на [сайте проекта](http://golang.org/doc/code.html#Workspaces)), либо организовывать код, как вам удобно. Я же для простоты изложения, использую [goenv](https://github.com/pwoolcoc/goenv), позволяющий указывать версии компилятора go и создавать чистое рабочее окружение в директории проекта.

Теперь нам нужно зайти в склонированную директорию skimmer и установить нужные зависимости командой:
```bash
go get -d ./src/
```
После завершения установки зависимости, можно запустить проект:
```bash
go run ./src/main.go
```
У вас должен запуститься веб-сервис на порту 3000 (порт и хост можно указать через переменные окружения PORT и HOST соответственно). Теперь можно открыть его в браузере по адресу 127.0.0.1:3000 и попробовать уже готовый сервис в работе.

Впереди нас ждут следующие этапы:
* Шаг #1. Подготовка;
* Шаг #2. Знакомство с Martini;
* Шаг #3. Создаём модель Bin и отвечаем на запросы;
* Шаг #4. Принимаем запросы и сохраняем их в хранилище; 
* Шаг #5. А как же тесты?
* Шаг #6. украшательства и веб-интерфейс;
* Шаг #7. Добавляем немного приватности;
* Шаг #8. Очищаем ненужное;
* Шаг #9. Используем Redis для хранения.

> **Warning**: Все перечисленные шаги находятся во вкладке **Issues**!

Особая благодарность [@kavu](https://habrahabr.ru/users/kavu/) за коррекцию первой и второй части статьи.

Приступим к разработке.

[Практика взята с Habrahabr](https://habrahabr.ru/post/208680/) 

[Спасибо M0sTH8 за статью](https://habrahabr.ru/users/M0sTH8/)
